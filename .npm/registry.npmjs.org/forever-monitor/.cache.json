{"_id":"forever-monitor","_rev":"28-a4b6bd708e30621528bf647be80d225d","name":"forever-monitor","description":"Core forever process monitor","dist-tags":{"latest":"1.3.0"},"versions":{"1.0.0":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.0.0","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"git://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.0.x"},"devDependencies":{"vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.1"},"_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"_id":"forever-monitor@1.0.0","optionalDependencies":{},"_engineSupported":true,"_npmVersion":"1.1.2","_nodeVersion":"v0.8.1","_defaultsLoaded":true,"dist":{"shasum":"8b62e771d352c07f94b48133c40f2b85730dad95","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.0.0.tgz"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"}],"directories":{}},"1.0.1":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.0.1","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"git://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.0.x"},"devDependencies":{"vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.1"},"_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"_id":"forever-monitor@1.0.1","optionalDependencies":{},"_engineSupported":true,"_npmVersion":"1.1.2","_nodeVersion":"v0.8.1","_defaultsLoaded":true,"dist":{"shasum":"abc99b22ab8fa53222a5c05cdeba573733eda304","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.0.1.tgz"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"}],"directories":{}},"1.0.2":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.0.2","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"git://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.0.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":"0.8.x"},"_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"_id":"forever-monitor@1.0.2","optionalDependencies":{},"_engineSupported":true,"_npmVersion":"1.1.2","_nodeVersion":"v0.8.1","_defaultsLoaded":true,"dist":{"shasum":"c698b9cc414b6ebca69d88357af217a61fc4f309","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.0.2.tgz"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"}],"directories":{}},"1.1.0":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.1.0","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":"0.8.x"},"_id":"forever-monitor@1.1.0","dist":{"shasum":"439ce036f999601cff551aea7f5151001a869ef9","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.1.0.tgz"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"avianflu","email":"charlie@charlieistheman.com"}],"directories":{}},"1.2.0":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.2.0","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":"0.8.x"},"_id":"forever-monitor@1.2.0","dist":{"shasum":"472243e2049dfb1c16ffaf5caf8fbcef88028130","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.2.0.tgz"},"_from":".","_npmVersion":"1.2.14","_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"avianflu","email":"charlie@charlieistheman.com"}],"directories":{}},"1.2.1":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.2.1","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.x"},"_id":"forever-monitor@1.2.1","dist":{"shasum":"e64d0b4748dc4b0839067d31e44e7b2c703de098","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.2.1.tgz"},"_from":".","_npmVersion":"1.2.14","_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"avianflu","email":"charlie@charlieistheman.com"}],"directories":{}},"1.2.2":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.2.2","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.0.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.6.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.x"},"_id":"forever-monitor@1.2.2","dist":{"shasum":"c1ad6c6ab837a89fa2d47bb439727ca968235684","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.2.2.tgz"},"_from":".","_npmVersion":"1.2.15","_npmUser":{"name":"mmalecki","email":"me@mmalecki.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"avianflu","email":"charlie@charlieistheman.com"},{"name":"mmalecki","email":"me@mmalecki.com"}],"directories":{}},"1.2.3":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.2.3","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.2.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.7.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.x"},"_id":"forever-monitor@1.2.3","dist":{"shasum":"b27ac3acb6fdcc7315d6cd85830f2d004733028b","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.2.3.tgz"},"_from":".","_npmVersion":"1.2.14","_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"avianflu","email":"charlie@charlieistheman.com"},{"name":"mmalecki","email":"me@mmalecki.com"}],"directories":{}},"1.2.4":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.2.4","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.2.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.7.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.x"},"gitHead":"21210459194d79e5af6242d10ecca170a711407f","bugs":{"url":"https://github.com/nodejitsu/forever-monitor/issues"},"homepage":"https://github.com/nodejitsu/forever-monitor","_id":"forever-monitor@1.2.4","_shasum":"e531abfa927a39ade879b248b0bd434ada3dd9d6","_from":".","_npmVersion":"2.0.0-alpha-5","_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"mmalecki","email":"me@mmalecki.com"}],"dist":{"shasum":"e531abfa927a39ade879b248b0bd434ada3dd9d6","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.2.4.tgz"},"directories":{}},"1.3.0":{"name":"forever-monitor","description":"Core forever process monitor","version":"1.3.0","author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"keywords":["fault tolerant","sysadmin","tools"],"dependencies":{"broadway":"0.2.x","minimatch":"0.2.x","pkginfo":"0.x.x","ps-tree":"0.0.x","watch":"0.5.x","utile":"0.1.x"},"devDependencies":{"optimist":"0.3.x","vows":"0.7.x"},"main":"./lib/index.js","scripts":{"test":"vows test/**/*-test.js --spec -i"},"engines":{"node":">= 0.8.x"},"gitHead":"d0330e8b4e207d1c1a2d876aabe4b4bcdb134da1","bugs":{"url":"https://github.com/nodejitsu/forever-monitor/issues"},"homepage":"https://github.com/nodejitsu/forever-monitor","_id":"forever-monitor@1.3.0","_shasum":"57e883da03ec0eb690ad4259afbccf22f609d52e","_from":".","_npmVersion":"2.0.0-alpha-5","_npmUser":{"name":"indexzero","email":"charlie.robbins@gmail.com"},"maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"mmalecki","email":"me@mmalecki.com"}],"dist":{"shasum":"57e883da03ec0eb690ad4259afbccf22f609d52e","tarball":"http://registry.npmjs.org/forever-monitor/-/forever-monitor-1.3.0.tgz"},"directories":{}}},"readme":"# forever-monitor [![Build Status](https://secure.travis-ci.org/nodejitsu/forever-monitor.png)](http://travis-ci.org/nodejitsu/forever-monitor)\n\nThe core monitoring functionality of forever without the CLI\n\n## Usage\nYou can also use forever from inside your own node.js code.\n\n``` js\n  var forever = require('forever-monitor');\n\n  var child = new (forever.Monitor)('your-filename.js', {\n    max: 3,\n    silent: true,\n    options: []\n  });\n\n  child.on('exit', function () {\n    console.log('your-filename.js has exited after 3 restarts');\n  });\n  \n  child.start();\n```\n\n### Spawning a non-node process\nYou can spawn non-node processes too. Either set the `command` key in the\n`options` hash or pass in an `Array` in place of the `file` argument like this:\n\n``` js\n  var forever = require('forever-monitor');\n  var child = forever.start([ 'perl', '-le', 'print \"moo\"' ], {\n    max : 1,\n    silent : true\n  });\n```\n\n### Options available when using Forever in node.js\nThere are several options that you should be aware of when using forever. Most of this configuration is optional.\n\n``` js\n  {\n    //\n    // Basic configuration options\n    //\n    'silent': false,            // Silences the output from stdout and stderr in the parent process\n    'uid': 'your-UID'           // Custom uid for this forever process. (default: autogen)\n    'pidFile': 'path/to/a.pid', // Path to put pid information for the process(es) started\n    'max': 10,                  // Sets the maximum number of times a given script should run\n    'killTree': true            // Kills the entire child process tree on `exit`\n    \n    //\n    // These options control how quickly forever restarts a child process\n    // as well as when to kill a \"spinning\" process\n    //\n    'minUptime': 2000,     // Minimum time a child process has to be up. Forever will 'exit' otherwise.\n    'spinSleepTime': 1000, // Interval between restarts if a child is spinning (i.e. alive < minUptime).\n    \n    //\n    // Command to spawn as well as options and other vars \n    // (env, cwd, etc) to pass along\n    //\n    'command': 'perl',         // Binary to run (default: 'node')\n    'options': ['foo','bar'],  // Additional arguments to pass to the script,\n    'sourceDir': 'script/path' // Directory that the source script is in\n    \n    //\n    // Options for restarting on watched files.\n    //\n    'watch': true              // Value indicating if we should watch files.\n    'watchIgnoreDotFiles': null // Whether to ignore file starting with a '.'\n    'watchIgnorePatterns': null // Ignore patterns to use when watching files.\n    'watchDirectory': null      // Top-level directory to watch from.\n    \n    //\n    // All or nothing options passed along to `child_process.spawn`.\n    //\n    'spawnWith': {\n      customFds: [-1, -1, -1], // that forever spawns.\n      setsid: false\n    },\n    \n    //\n    // More specific options to pass along to `child_process.spawn` which \n    // will override anything passed to the `spawnWith` option\n    //\n    'env': { 'ADDITIONAL': 'CHILD ENV VARS' }\n    'cwd': '/path/to/child/working/directory'\n    \n    //\n    // Log files and associated logging options for this instance\n    //\n    'logFile': 'path/to/file', // Path to log output from forever process (when daemonized)\n    'outFile': 'path/to/file', // Path to log output from child stdout\n    'errFile': 'path/to/file'  // Path to log output from child stderr\n  }\n```\n\n### Events available when using an instance of Forever in node.js\nEach forever object is an instance of the node.js core EventEmitter. There are several core events that you can listen for:\n\n* **error**   _[err]:_             Raised when an error occurs\n* **start**   _[process, data]:_   Raised when the target script is first started.\n* **stop**    _[process]:_         Raised when the target script is stopped by the user\n* **restart** _[forever]:_         Raised each time the target script is restarted\n* **exit**    _[forever]:_         Raised when the target script actually exits (permenantly).\n* **stdout**  _[data]:_            Raised when data is received from the child process' stdout\n* **stderr**  _[data]:_            Raised when data is received from the child process' stderr\n\n### Typical console output\n\nWhen running the forever CLI tool, it produces debug outputs about which files have changed / how processes exited / etc. To get a similar behaviour with `forever-monitor`, add the following event listeners:\n\n```js\nvar child = new (forever.Monitor)('your-filename.js');\n\nchild.on('watch:restart', function(info) {\n    console.error('Restaring script because ' + info.file + ' changed');\n});\n\nchild.on('restart', function() {\n    console.error('Forever restarting script for ' + child.times + ' time');\n});\n\nchild.on('exit:code', function(code) {\n    console.error('Forever detected script exited with code ' + code);\n});\n```\n\n## Installation\n\n``` bash\n  $ npm install forever-monitor\n```\n\n## Run Tests\n\n``` bash\n  $ npm test\n```\n\n#### License: MIT\n#### Author: [Charlie Robbins](http://github.com/indexzero)\n#### Contributors: [Fedor Indutny](http://github.com/indutny), [James Halliday](http://substack.net/), [Charlie McConnell](http://github.com/avianflu), [Maciej Malecki](http://github.com/mmalecki)\n","maintainers":[{"name":"indexzero","email":"charlie.robbins@gmail.com"},{"name":"mmalecki","email":"me@mmalecki.com"}],"time":{"modified":"2014-08-01T21:23:56.822Z","created":"2012-07-06T01:31:08.134Z","1.0.0":"2012-07-06T01:31:08.528Z","1.0.1":"2012-07-06T01:56:35.518Z","1.0.2":"2012-07-08T23:42:21.702Z","1.1.0":"2012-08-02T05:30:58.732Z","1.2.0":"2013-04-21T08:11:07.385Z","1.2.1":"2013-04-21T08:12:43.506Z","1.2.2":"2013-05-09T22:07:27.492Z","1.2.3":"2013-09-27T06:20:43.807Z","1.2.4":"2014-08-01T19:12:27.222Z","1.3.0":"2014-08-01T21:23:56.822Z"},"author":{"name":"Nodejitsu Inc","email":"info@nodejitsu.com"},"repository":{"type":"git","url":"http://github.com/nodejitsu/forever-monitor.git"},"users":{"fgribreau":true,"jorgemsrs":true,"fill":true,"dypsilon":true},"keywords":["fault tolerant","sysadmin","tools"],"contributors":[{"name":"Charlie Robbins","email":"charlie@nodejitsu.com"},{"name":"Fedor Indutny","email":"fedor.indutny@gmail.com"},{"name":"James Halliday","email":"mail@substack.net"},{"name":"Bradley Meck","email":"bradley@nodejitsu.com"},{"name":"Dominic Tarr","email":"dominic@nodejitsu.com"},{"name":"Maciej Małecki","email":"maciej@nodejitsu.com"}],"readmeFilename":"README.md","homepage":"https://github.com/nodejitsu/forever-monitor","bugs":{"url":"https://github.com/nodejitsu/forever-monitor/issues"},"_attachments":{},"_etag":"\"77JFF663FTYLPAL98NM2149Y2\""}